<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataTables in Tabs</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/2.1.5/css/dataTables.dataTables.min.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- DataTables JS -->
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/2.1.5/js/dataTables.min.js"></script>

    <script>
        $(document).ready(function() {
            // Initialize DataTable for both tables
            let table1 = new DataTable('#myTable1', {
                "dom": '<"top"p>rt<"bottom"il><"clear">',
                "pagingType": "full_numbers"
            });
            
            let table2 = new DataTable('#myTable2', {
                "dom": '<"top"p>rt<"bottom"il><"clear">',
                "pagingType": "full_numbers"
            });

            // Column search for Table 1
            $('#myTable1 thead tr').clone(true).appendTo('#myTable1 thead');
            $('#myTable1 thead tr:eq(1) th').each(function (i) {
                if (i > 0) {  // Skip the checkbox column
                    $(this).html('<input type="text" class="form-control form-control-sm" placeholder="Search ' + $(this).text() + '" />');
                    $('input', this).on('keyup change clear', function () {
                        if (table1.column(i).search() !== this.value) {
                            table1.column(i).search(this.value).draw();
                        }
                    });
                } else {
                    $(this).html('');
                }
            });

            // Column search for Table 2
            $('#myTable2 thead tr').clone(true).appendTo('#myTable2 thead');
            $('#myTable2 thead tr:eq(1) th').each(function (i) {
                if (i > 0) {  // Skip the checkbox column
                    $(this).html('<input type="text" class="form-control form-control-sm" placeholder="Search ' + $(this).text() + '" />');
                    $('input', this).on('keyup change clear', function () {
                        if (table2.column(i).search() !== this.value) {
                            table2.column(i).search(this.value).draw();
                        }
                    });
                } else {
                    $(this).html('');
                }
            });
        });
    </script>

    <style>
        .dataTables_wrapper .top {
            display: flex;
            justify-content: center;
            margin-bottom: 1rem;
        }
        .dataTables_wrapper .bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }
        .dataTables_info {
            margin-top: 0.5rem;
        }
        .checkbox-column {
            width: 1%;
            white-space: nowrap;
            text-align: center;
        }
        /* Styling input fields */
        input[type="text"] {
            width: 100%;
            box-sizing: border-box;
        }
    </style>
</head>
<body>

    <div class="container mt-5">
        <h1 class="text-center mb-4">DataTables in Different Tabs</h1>

        <!-- Bootstrap Tabs -->
        <ul class="nav nav-tabs" id="dataTablesTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="table1-tab" data-bs-toggle="tab" data-bs-target="#table1" type="button" role="tab" aria-controls="table1" aria-selected="true">Table 1</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="table2-tab" data-bs-toggle="tab" data-bs-target="#table2" type="button" role="tab" aria-controls="table2" aria-selected="false">Table 2</button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="dataTablesTabsContent">
            <!-- Table 1 -->
            <div class="tab-pane fade show active" id="table1" role="tabpanel" aria-labelledby="table1-tab">
                <div class="mt-4">
                    <table id="myTable1" class="table table-striped table-bordered" style="width:100%">
                        <thead class="table-dark">
                            <tr>
                                <th class="checkbox-column"><input type="checkbox" id="selectAll1"></th>
                                <th>Name</th>
                                <th>Position</th>
                                <th>Office</th>
                                <th>Age</th>
                                <th>Start date</th>
                                <th>Salary</th>
                                <th>Department</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox" class="select-row"></td>
                                <td>Tiger Nixon</td>
                                <td>System Architect</td>
                                <td>Edinburgh</td>
                                <td>61</td>
                                <td>2011/04/25</td>
                                <td>$320,800</td>
                                <td>IT</td>
                            </tr>
                            <!-- Add more rows as needed -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Table 2 -->
            <div class="tab-pane fade" id="table2" role="tabpanel" aria-labelledby="table2-tab">
                <div class="mt-4">
                    <table id="myTable2" class="table table-striped table-bordered" style="width:100%">
                        <thead class="table-dark">
                            <tr>
                                <th class="checkbox-column"><input type="checkbox" id="selectAll2"></th>
                                <th>Name</th>
                                <th>Position</th>
                                <th>Office</th>
                                <th>Age</th>
                                <th>Start date</th>
                                <th>Salary</th>
                                <th>Department</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox" class="select-row"></td>
                                <td>Garrett Winters</td>
                                <td>Accountant</td>
                                <td>Tokyo</td>
                                <td>63</td>
                                <td>2011/07/25</td>
                                <td>$170,750</td>
                                <td>Finance</td>
                            </tr>
                            <!-- Add more rows as needed -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

</body>
</html>
